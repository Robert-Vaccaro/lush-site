(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[173],{6016:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/spec-user",function(){return n(812)}])},812:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return L}});var o=n(5893);n(9008),n(1664);var s=n(7294),r=n(1163),i=n(7462),a=n(3366),l=n(6010),d=n(4780),c=n(1496),p=n(7623),u=n(629),h=n(1588),x=n(4867);function m(e){return(0,x.Z)("MuiCard",e)}(0,h.Z)("MuiCard",["root"]);let j=["className","raised"],f=e=>{let{classes:t}=e;return(0,d.Z)({root:["root"]},m,t)},g=(0,c.ZP)(u.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),Z=s.forwardRef(function(e,t){let n=(0,p.Z)({props:e,name:"MuiCard"}),{className:s,raised:r=!1}=n,d=(0,a.Z)(n,j),c=(0,i.Z)({},n,{raised:r}),u=f(c);return(0,o.jsx)(g,(0,i.Z)({className:(0,l.Z)(u.root,s),elevation:r?8:void 0,ref:t,ownerState:c},d))});function b(e){return(0,x.Z)("MuiCardActions",e)}(0,h.Z)("MuiCardActions",["root","spacing"]);let C=["disableSpacing","className"],k=e=>{let{classes:t,disableSpacing:n}=e;return(0,d.Z)({root:["root",!n&&"spacing"]},b,t)},S=(0,c.ZP)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>(0,i.Z)({display:"flex",alignItems:"center",padding:8},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),y=s.forwardRef(function(e,t){let n=(0,p.Z)({props:e,name:"MuiCardActions"}),{disableSpacing:s=!1,className:r}=n,d=(0,a.Z)(n,C),c=(0,i.Z)({},n,{disableSpacing:s}),u=k(c);return(0,o.jsx)(S,(0,i.Z)({className:(0,l.Z)(u.root,r),ownerState:c,ref:t},d))});function v(e){return(0,x.Z)("MuiCardContent",e)}(0,h.Z)("MuiCardContent",["root"]);let w=["className","component"],M=e=>{let{classes:t}=e;return(0,d.Z)({root:["root"]},v,t)},A=(0,c.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),D=s.forwardRef(function(e,t){let n=(0,p.Z)({props:e,name:"MuiCardContent"}),{className:s,component:r="div"}=n,d=(0,a.Z)(n,w),c=(0,i.Z)({},n,{component:r}),u=M(c);return(0,o.jsx)(A,(0,i.Z)({as:r,className:(0,l.Z)(u.root,s),ownerState:c,ref:t},d))});var I=n(3321),N=n(5861),R=n(381),_=n.n(R),U=n(7357),P=n(2743),Y=n(2474),B=n(7041);let O={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,pt:2,px:4,pb:3,display:"flex",justifyContent:"center",flexDirection:"column"};function z(e){let[t,n]=s.useState(!1),[r,i]=s.useState(""),a=()=>{n(!0)},l=()=>{n(!1)},d=()=>{fetch("https://intense-brook-83972.herokuapp.com/update-prompt",{method:"post",headers:{Authorization:(0,B.getCookie)("token"),Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({username:(0,B.getCookie)("username"),appleID:e.appleID,newPrompt:r})}).then(e=>e.json()).then(t=>{e.changeUser()}).catch(e=>{console.log(e),l()})};return(0,o.jsxs)("div",{children:[(0,o.jsx)(I.Z,{onClick:a,children:"Change Prompt"}),(0,o.jsx)(P.Z,{open:t,onClose:l,"aria-labelledby":"parent-modal-title","aria-describedby":"parent-modal-description",children:(0,o.jsxs)(U.Z,{sx:{...O,width:400},children:[(0,o.jsx)("h2",{id:"parent-modal-title",children:"Change User's Prompt"}),(0,o.jsx)(Y.Z,{id:"filled-multiline-static",label:"Prompt",multiline:!0,rows:4,defaultValue:"",variant:"filled",onChange:e=>i(e.target.value)}),(0,o.jsx)("br",{}),(0,o.jsx)(I.Z,{onClick:()=>{d(),l()},variant:"contained",children:"Submit"})]})})]})}let E={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,pt:2,px:4,pb:3,display:"flex",justifyContent:"center",flexDirection:"column"};function T(e){let[t,n]=s.useState(""),[r,i]=s.useState(!1),a=()=>{i(!0)},l=()=>{i(!1)},d=()=>{fetch("https://intense-brook-83972.herokuapp.com/update-response-str",{method:"post",headers:{Authorization:(0,B.getCookie)("token"),Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({username:(0,B.getCookie)("username"),appleID:e.appleID,newResStr:t})}).then(e=>e.json()).then(t=>{e.changeUser()}).catch(e=>{console.log(e),l()})};return(0,o.jsxs)("div",{children:[(0,o.jsx)(I.Z,{onClick:a,children:"Change Response String"}),(0,o.jsx)(P.Z,{open:r,onClose:l,"aria-labelledby":"parent-modal-title","aria-describedby":"parent-modal-description",children:(0,o.jsxs)(U.Z,{sx:{...E,width:400},children:[(0,o.jsx)("h2",{id:"parent-modal-title",children:"Change Reponse String"}),(0,o.jsx)(Y.Z,{id:"filled-multiline-static",label:"Prompt",multiline:!0,rows:4,defaultValue:"",variant:"filled",onChange:e=>n(e.target.value)}),(0,o.jsx)("br",{}),(0,o.jsx)(I.Z,{onClick:()=>{d(),l()},variant:"contained",children:"Submit"})]})})]})}let q={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,pt:2,px:4,pb:3,display:"flex",justifyContent:"center",flexDirection:"column"};function J(e){let[t,n]=s.useState(""),[r,i]=s.useState(!1),a=()=>{i(!0)},l=()=>{i(!1)},d=t=>{fetch("https://intense-brook-83972.herokuapp.com/update-ban-status",{method:"post",headers:{Authorization:(0,B.getCookie)("token"),Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({username:(0,B.getCookie)("username"),appleID:e.appleID,banned:t})}).then(e=>e.json()).then(t=>{e.changeUser()}).catch(e=>{console.log(e),l()})};return(0,o.jsxs)("div",{children:[(0,o.jsx)(I.Z,{onClick:a,children:"Update Ban Status"}),(0,o.jsx)(P.Z,{open:r,onClose:l,"aria-labelledby":"parent-modal-title","aria-describedby":"parent-modal-description",children:(0,o.jsxs)(U.Z,{sx:{...q,width:400},children:[(0,o.jsx)("h2",{id:"parent-modal-title",children:"Update Ban Status"}),(0,o.jsxs)("p",{children:["Current Ban Status: ",e.currentBanStatus.toString()]}),(0,o.jsx)("br",{}),(0,o.jsx)(I.Z,{onClick:()=>{d(!0),l()},variant:"contained",children:"Ban"}),(0,o.jsx)("br",{}),(0,o.jsx)(I.Z,{onClick:()=>{d(!1),l()},variant:"contained",children:"Unban"})]})})]})}function L(){let e=(0,r.useRouter)(),[t,n]=(0,s.useState)([]),[i,a]=(0,s.useState)([]),[l,d]=(0,s.useState)(!0),c=()=>{console.log("should reload"),d(!0)},p=e=>{fetch("https://intense-brook-83972.herokuapp.com/get-user",{method:"post",headers:{Authorization:(0,B.getCookie)("token"),Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({username:(0,B.getCookie)("username"),appleID:e})}).then(e=>e.json()).then(e=>n(e)).catch(e=>console.log(e))},u=e=>{fetch("https://intense-brook-83972.herokuapp.com/admin-get-messages",{method:"post",headers:{Authorization:(0,B.getCookie)("token"),Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({username:(0,B.getCookie)("username"),appleID:e})}).then(e=>e.json()).then(e=>a(e)).catch(e=>console.log(e)),d(!1)};return(0,s.useEffect)(()=>{e.isReady&&l&&(p(e.query.user),u(e.query.user))},[e.isReady,l]),(0,o.jsx)("div",{children:0===t.length?(0,o.jsx)("div",{}):(0,o.jsxs)("div",{children:[(0,o.jsx)(I.Z,{size:"small",onClick:()=>e.push("/dashboard"),children:"Back"}),(0,o.jsxs)(Z,{sx:{minWidth:275},children:[(0,o.jsxs)(D,{children:[(0,o.jsx)(N.Z,{variant:"h5",children:(0,o.jsx)("u",{children:"User Information"})}),(0,o.jsxs)(N.Z,{children:["Username: ",t.username]}),(0,o.jsxs)(N.Z,{children:["AppleID: ",t.appleID]}),(0,o.jsxs)(N.Z,{children:["Email_address: ",t.email_address]}),(0,o.jsxs)(N.Z,{children:["First name: ",t.firstName]}),(0,o.jsxs)(N.Z,{children:["Last name: ",t.lastName]}),(0,o.jsxs)(N.Z,{children:["Created:"," ",_().unix(t.createdAt).format("dddd, MMMM Do, YYYY h:mm:ss A")]}),(0,o.jsxs)(N.Z,{children:["Last Login",_().unix(t.lastLogin).format("dddd, MMMM Do, YYYY h:mm:ss A")]}),(0,o.jsxs)(N.Z,{children:["Updated:"," ",_().unix(t.updatedAt).format("dddd, MMMM Do, YYYY h:mm:ss A")]}),(0,o.jsxs)(N.Z,{children:["DB ID: ",t._id]}),(0,o.jsxs)(N.Z,{children:["Paid: ",void 0===t.paid?"":t.paid.toString()]}),(0,o.jsxs)(N.Z,{children:["Banned:"," ",void 0===t.banned?"":t.banned.toString()]}),(0,o.jsxs)(N.Z,{children:["Is AI On: ",void 0===t.isAI?"":t.isAI.toString()]}),(0,o.jsxs)(N.Z,{children:["Messages: ",t.messageCount]}),(0,o.jsxs)(N.Z,{children:["Prompt: ",t.prompt]}),(0,o.jsxs)(N.Z,{children:["Response String: ",t.responseStr]})]}),(0,o.jsxs)(y,{children:[(0,o.jsx)(z,{appleID:e.query.user,changeUser:c}),(0,o.jsx)(T,{appleID:e.query.user,changeUser:c}),(0,o.jsx)(J,{appleID:e.query.user,currentBanStatus:t.banned,changeUser:c})]})]}),(0,o.jsx)("br",{}),(0,o.jsxs)(Z,{sx:{minWidth:275},children:[(0,o.jsxs)(D,{children:[(0,o.jsx)(N.Z,{variant:"h5",children:"Messages"}),(0,o.jsx)("br",{}),0===i.length?"":i.map((e,t)=>(0,o.jsxs)(N.Z,{children:[(0,o.jsx)("u",{children:(0,o.jsx)("b",{children:e.sentFrom})}),": ",e.message]},t))]}),(0,o.jsx)(y,{children:(0,o.jsx)(I.Z,{size:"small",children:"Delete Chat"})})]})]})})}},1163:function(e,t,n){e.exports=n(6885)}},function(e){e.O(0,[885,641,996,862,774,888,179],function(){return e(e.s=6016)}),_N_E=e.O()}]);