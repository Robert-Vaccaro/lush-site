(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{1075:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return i(9458)}])},9458:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return V}});var t=i(5893);i(9008),i(1664);var r=i(7294),s=i(1496),a=i(2734),o=i(7357),l=i(7533),d=i(2293),c=i(155),x=i(8462),h=i(6720),p=i(7720),u=i(3946),j=i(326),g=i(9572),Z=i(6215),m=i(7212),f=i(8619),w=i(8885),b=i(9334),P=i(2165),S=i(6448);let v=e=>({width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflowX:"hidden"}),y=e=>({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:"calc(".concat(e.spacing(7)," + 1px)"),[e.breakpoints.up("sm")]:{width:"calc(".concat(e.spacing(8)," + 1px)")}}),C=(0,s.ZP)("div")(e=>{let{theme:n}=e;return{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:n.spacing(0,1),...n.mixins.toolbar}}),k=(0,s.ZP)(d.Z,{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:n,open:i}=e;return{zIndex:n.zIndex.drawer+1,transition:n.transitions.create(["width","margin"],{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen}),...i&&{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:n.transitions.create(["width","margin"],{easing:n.transitions.easing.sharp,duration:n.transitions.duration.enteringScreen})}}}),_=(0,s.ZP)(l.ZP,{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:n,open:i}=e;return{width:240,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box",...i&&{...v(n),"& .MuiDrawer-paper":v(n)},...!i&&{...y(n),"& .MuiDrawer-paper":y(n)}}});function A(){let e=(0,a.Z)(),[n,i]=r.useState(!1),s=()=>{i(!0)},l=()=>{i(!1)};return(0,t.jsxs)(o.Z,{sx:{display:"flex"},children:[(0,t.jsx)(h.ZP,{}),(0,t.jsx)(k,{position:"fixed",open:n,sx:{backgroundColor:"black"},children:(0,t.jsx)(c.Z,{children:(0,t.jsx)(u.Z,{color:"inherit","aria-label":"open drawer",onClick:s,edge:"start",sx:{marginRight:5,...n&&{display:"none"}},children:(0,t.jsx)(j.Z,{})})})}),(0,t.jsxs)(_,{variant:"permanent",open:n,children:[(0,t.jsx)(C,{children:(0,t.jsx)(u.Z,{onClick:l,children:"rtl"===e.direction?(0,t.jsx)(Z.Z,{}):(0,t.jsx)(g.Z,{})})}),(0,t.jsx)(p.Z,{}),(0,t.jsx)(x.Z,{children:["Inbox","Starred","Send email","Drafts"].map((e,i)=>(0,t.jsx)(m.ZP,{disablePadding:!0,sx:{display:"block"},children:(0,t.jsxs)(f.Z,{sx:{minHeight:48,justifyContent:n?"initial":"center",px:2.5},children:[(0,t.jsx)(w.Z,{sx:{minWidth:0,mr:n?3:"auto",justifyContent:"center"},children:i%2==0?(0,t.jsx)(P.Z,{}):(0,t.jsx)(S.Z,{})}),(0,t.jsx)(b.Z,{primary:e,sx:{opacity:n?1:0}})]})},e))}),(0,t.jsx)(p.Z,{}),(0,t.jsx)(x.Z,{children:["All mail","Trash","Spam"].map((e,i)=>(0,t.jsx)(m.ZP,{disablePadding:!0,sx:{display:"block"},children:(0,t.jsxs)(f.Z,{sx:{minHeight:48,justifyContent:n?"initial":"center",px:2.5},children:[(0,t.jsx)(w.Z,{sx:{minWidth:0,mr:n?3:"auto",justifyContent:"center"},children:i%2==0?(0,t.jsx)(P.Z,{}):(0,t.jsx)(S.Z,{})}),(0,t.jsx)(b.Z,{primary:e,sx:{opacity:n?1:0}})]})},e))})]}),(0,t.jsx)(o.Z,{component:"main",sx:{flexGrow:1,p:3}})]})}var I=i(7922),D=i(7906),N=i(295),E=i(3252),M=i(2882),T=i(3184),L=i(3816),z=i(5861),O=i(629),F=i(5503),R=i(813),X=i(2840),Y=i(3970),B=i(2761);function H(e){let[n,i]=r.useState([]),s=n=>{""===n?e.updatedListProp(n):i(n)},a=i=>{i.preventDefault(),e.updatedListProp(n)};return(0,t.jsxs)(O.Z,{component:"form",onSubmit:e=>a(e),sx:{display:"flex",alignItems:"center",width:"50%",marginTop:"75px"},children:[(0,t.jsx)(u.Z,{sx:{p:"10px"},"aria-label":"menu",children:(0,t.jsx)(j.Z,{})}),(0,t.jsx)(Y.ZP,{sx:{ml:1,flex:1},placeholder:"Search User Database",inputProps:{"aria-label":"search google maps"},onChange:e=>s(e.target.value)}),(0,t.jsx)(u.Z,{type:"button",sx:{p:"10px"},"aria-label":"search",onClick:i=>{i.preventDefault(),e.updatedListProp(n)},children:(0,t.jsx)(B.Z,{})})]})}var K=i(381),U=i.n(K),W=i(1797),G=i(9332),J=i(7041);function q(){let[e,n]=(0,r.useState)([]),[i,s]=(0,r.useState)(0),[a,o]=(0,r.useState)(5),[l,d]=(0,r.useState)(0),[c,x]=(0,r.useState)("");var h=e=>{x(e)},p=e=>{console.log(e),s(e.total),n(e.data)},u=e=>{"KeyboardArrowRightIcon"===e.target.getAttribute("data-testid")&&l<=Math.floor(i/a)?d(l+=1):"KeyboardArrowLeftIcon"===e.target.getAttribute("data-testid")&&l>=0&&d(l-=1)},j=e=>{o(e.target.value)};let g=()=>{fetch("https://intense-brook-83972.herokuapp.com/get-users",{method:"post",headers:{Authorization:(0,J.getCookie)("token"),Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({username:(0,J.getCookie)("username"),userSearch:c,page:l,limit:a})}).then(e=>e.json()).then(e=>p(e)).catch(e=>console.log(e))};return(0,r.useEffect)(()=>{g()},[c,l,a]),(0,t.jsxs)("div",{children:[(0,t.jsx)(H,{updatedListProp:h}),(0,t.jsxs)(M.Z,{component:O.Z,sx:{marginTop:"75px",width:"80vw"},children:[(0,t.jsxs)(D.Z,{"aria-label":"collapsible table",children:[(0,t.jsx)(T.Z,{children:(0,t.jsxs)(L.Z,{children:[(0,t.jsx)(E.Z,{}),(0,t.jsx)(E.Z,{children:"Photo"}),(0,t.jsx)(E.Z,{align:"right",children:"Username"}),(0,t.jsx)(E.Z,{align:"right",children:"First"}),(0,t.jsx)(E.Z,{align:"right",children:"Last"}),(0,t.jsx)(E.Z,{align:"right",children:"Paid"})]})}),(0,t.jsx)(N.Z,{children:0===e?(0,t.jsx)("div",{}):e.map(e=>(0,t.jsx)(Q,{row:e},e._id))})]}),(0,t.jsx)(X.Z,{rowsPerPageOptions:[5,10,25,50],component:"div",count:i,rowsPerPage:a,page:l,onPageChange:u,onRowsPerPageChange:j})]})]})}function Q(e){let{row:n}=e,[i,s]=(0,r.useState)(!1),a=(0,G.useRouter)(),l=e=>{a.push("/spec-user?user="+e)};return(0,t.jsxs)(r.Fragment,{children:[(0,t.jsxs)(L.Z,{sx:{"& > *":{borderBottom:"unset"}},children:[(0,t.jsx)(E.Z,{children:(0,t.jsx)(u.Z,{"aria-label":"expand row",size:"small",onClick:()=>s(!i),children:i?(0,t.jsx)(R.Z,{}):(0,t.jsx)(F.Z,{})})}),(0,t.jsx)(E.Z,{component:"th",scope:"row",children:n.appleID}),(0,t.jsx)(E.Z,{align:"right",children:n.username}),(0,t.jsx)(E.Z,{align:"right",children:n.firstName}),(0,t.jsx)(E.Z,{align:"right",children:n.lastName}),(0,t.jsx)(E.Z,{align:"right",children:n.paid.toString()}),(0,t.jsx)(E.Z,{align:"right",children:(0,t.jsx)(u.Z,{type:"button",onClick:()=>l(n.appleID),children:(0,t.jsx)(W.Z,{color:"primary"})})})]}),(0,t.jsx)(L.Z,{children:(0,t.jsx)(E.Z,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:(0,t.jsx)(I.Z,{in:i,timeout:"auto",unmountOnExit:!0,children:(0,t.jsxs)(o.Z,{sx:{margin:1},children:[(0,t.jsxs)(z.Z,{variant:"h6",gutterBottom:!0,component:"div",children:["Data of ",n.username]}),(0,t.jsxs)(D.Z,{size:"small","aria-label":"purchases",children:[(0,t.jsx)(T.Z,{children:(0,t.jsxs)(L.Z,{children:[(0,t.jsx)(E.Z,{children:"Created"}),(0,t.jsx)(E.Z,{children:"AI"}),(0,t.jsx)(E.Z,{align:"center",children:"Email"}),(0,t.jsx)(E.Z,{align:"right",children:"Total Messages"})]})}),(0,t.jsx)(N.Z,{children:(0,t.jsxs)(L.Z,{children:[(0,t.jsx)(E.Z,{component:"th",scope:"row",children:U().unix(n.createdAt).format("dddd, MMMM Do, YYYY h:mm:ss A")}),(0,t.jsx)(E.Z,{children:n.isAI.toString()}),(0,t.jsx)(E.Z,{align:"center",children:n.email_address}),(0,t.jsx)(E.Z,{align:"right",children:n.messageCount})]})})]})]})})})})]})}function V(){return(0,t.jsxs)("div",{className:"usertable-container",children:[(0,t.jsx)("div",{children:(0,t.jsx)(A,{})}),(0,t.jsx)("div",{className:"usertable-container",children:(0,t.jsx)(q,{})})]})}}},function(e){e.O(0,[885,641,996,886,774,888,179],function(){return e(e.s=1075)}),_N_E=e.O()}]);