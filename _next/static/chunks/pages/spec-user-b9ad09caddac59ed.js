(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[173],{6242:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var s=n(7462),o=n(3366),r=n(7294),i=n(6010),a=n(4780),l=n(1496),d=n(7623),c=n(629),p=n(1588),u=n(4867);function h(e){return(0,u.Z)("MuiCard",e)}(0,p.Z)("MuiCard",["root"]);var m=n(5893);let x=["className","raised"],j=e=>{let{classes:t}=e;return(0,a.Z)({root:["root"]},h,t)},f=(0,l.ZP)(c.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),Z=r.forwardRef(function(e,t){let n=(0,d.Z)({props:e,name:"MuiCard"}),{className:r,raised:a=!1}=n,l=(0,o.Z)(n,x),c=(0,s.Z)({},n,{raised:a}),p=j(c);return(0,m.jsx)(f,(0,s.Z)({className:(0,i.Z)(p.root,r),elevation:a?8:void 0,ref:t,ownerState:c},l))});var g=Z},4267:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var s=n(7462),o=n(3366),r=n(7294),i=n(6010),a=n(4780),l=n(1496),d=n(7623),c=n(1588),p=n(4867);function u(e){return(0,p.Z)("MuiCardContent",e)}(0,c.Z)("MuiCardContent",["root"]);var h=n(5893);let m=["className","component"],x=e=>{let{classes:t}=e;return(0,a.Z)({root:["root"]},u,t)},j=(0,l.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),f=r.forwardRef(function(e,t){let n=(0,d.Z)({props:e,name:"MuiCardContent"}),{className:r,component:a="div"}=n,l=(0,o.Z)(n,m),c=(0,s.Z)({},n,{component:a}),p=x(c);return(0,h.jsx)(j,(0,s.Z)({as:a,className:(0,i.Z)(p.root,r),ownerState:c,ref:t},l))});var Z=f},6016:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/spec-user",function(){return n(6735)}])},6735:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return U}});var s=n(5893),o=n(7294),r=n(1163),i=n(3321),a=n(6242),l=n(4267),d=n(5861),c=n(3366),p=n(7462),u=n(6010),h=n(4780),m=n(1496),x=n(7623),j=n(1588),f=n(4867);function Z(e){return(0,f.Z)("MuiCardActions",e)}(0,j.Z)("MuiCardActions",["root","spacing"]);let g=["disableSpacing","className"],b=e=>{let{classes:t,disableSpacing:n}=e;return(0,h.Z)({root:["root",!n&&"spacing"]},Z,t)},C=(0,m.ZP)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>(0,p.Z)({display:"flex",alignItems:"center",padding:8},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),k=o.forwardRef(function(e,t){let n=(0,x.Z)({props:e,name:"MuiCardActions"}),{disableSpacing:o=!1,className:r}=n,i=(0,c.Z)(n,g),a=(0,p.Z)({},n,{disableSpacing:o}),l=b(a);return(0,s.jsx)(C,(0,p.Z)({className:(0,u.Z)(l.root,r),ownerState:a,ref:t},i))});var v=n(381),S=n.n(v),y=n(2743),M=n(7357),w=n(2474),A=n(7041);let D={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"75%",bgcolor:"background.paper",boxShadow:24,pt:2,px:4,pb:3,display:"flex",justifyContent:"center",flexDirection:"column"};function I(e){let{appleID:t,changeUser:n,previousPrompt:r}=e,a=(0,o.useRef)(),[l,d]=(0,o.useState)(!1),[c,p]=(0,o.useState)(""),u=()=>{d(!0)},h=()=>{d(!1)},m=()=>{fetch("https://intense-brook-83972.herokuapp.com/update-prompt",{method:"post",headers:{Authorization:(0,A.getCookie)("token"),Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({username:(0,A.getCookie)("username"),appleID:t,newPrompt:c})}).then(e=>e.json()).then(()=>{n()}).catch(e=>{console.log(e),h()})};return(0,o.useEffect)(()=>{l&&setTimeout(()=>{a.current.select();let e=setTimeout(()=>{a.current.scrollTop=0},250);return()=>clearTimeout(e)},1)},[l]),(0,s.jsxs)("div",{children:[(0,s.jsx)(i.Z,{onClick:u,children:"Change Prompt"}),(0,s.jsx)(y.Z,{open:l,onClose:h,"aria-labelledby":"parent-modal-title","aria-describedby":"parent-modal-description",children:(0,s.jsxs)(M.Z,{sx:{...D},children:[(0,s.jsx)("h2",{id:"parent-modal-title",children:"Change User's Prompt"}),(0,s.jsx)(w.Z,{id:"filled-multiline-static",label:"Prompt",autoFocus:!0,multiline:!0,rows:4,inputRef:a,defaultValue:r,variant:"filled",onChange:e=>p(e.target.value)}),(0,s.jsx)(i.Z,{onClick:()=>{c!==r&&m(),h()},variant:"contained",children:"Submit"})]})})]})}let N={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,pt:2,px:4,pb:3,display:"flex",justifyContent:"center",flexDirection:"column"};function R(e){let[t,n]=o.useState(""),[r,a]=o.useState(!1),l=()=>{a(!0)},d=()=>{a(!1)},c=()=>{fetch("https://intense-brook-83972.herokuapp.com/update-response-str",{method:"post",headers:{Authorization:(0,A.getCookie)("token"),Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({username:(0,A.getCookie)("username"),appleID:e.appleID,newResStr:t})}).then(e=>e.json()).then(t=>{e.changeUser()}).catch(e=>{console.log(e),d()})};return(0,s.jsxs)("div",{children:[(0,s.jsx)(i.Z,{onClick:l,children:"Change Response String"}),(0,s.jsx)(y.Z,{open:r,onClose:d,"aria-labelledby":"parent-modal-title","aria-describedby":"parent-modal-description",children:(0,s.jsxs)(M.Z,{sx:{...N,width:400},children:[(0,s.jsx)("h2",{id:"parent-modal-title",children:"Change Reponse String"}),(0,s.jsx)(w.Z,{id:"filled-multiline-static",label:"Prompt",multiline:!0,rows:4,defaultValue:"",variant:"filled",onChange:e=>n(e.target.value)}),(0,s.jsx)("br",{}),(0,s.jsx)(i.Z,{onClick:()=>{c(),d()},variant:"contained",children:"Submit"})]})})]})}let _={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,pt:2,px:4,pb:3,display:"flex",justifyContent:"center",flexDirection:"column"};function P(e){let[t,n]=o.useState(""),[r,a]=o.useState(!1),l=()=>{a(!0)},d=()=>{a(!1)},c=t=>{fetch("https://intense-brook-83972.herokuapp.com/update-ban-status",{method:"post",headers:{Authorization:(0,A.getCookie)("token"),Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({username:(0,A.getCookie)("username"),appleID:e.appleID,banned:t})}).then(e=>e.json()).then(t=>{e.changeUser()}).catch(e=>{console.log(e),d()})};return(0,s.jsxs)("div",{children:[(0,s.jsx)(i.Z,{onClick:l,children:"Update Ban Status"}),(0,s.jsx)(y.Z,{open:r,onClose:d,"aria-labelledby":"parent-modal-title","aria-describedby":"parent-modal-description",children:(0,s.jsxs)(M.Z,{sx:{..._,width:400},children:[(0,s.jsx)("h2",{id:"parent-modal-title",children:"Update Ban Status"}),(0,s.jsxs)("p",{children:["Current Ban Status: ",e.currentBanStatus.toString()]}),(0,s.jsx)("br",{}),(0,s.jsx)(i.Z,{onClick:()=>{c(!0),d()},variant:"contained",children:"Ban"}),(0,s.jsx)("br",{}),(0,s.jsx)(i.Z,{onClick:()=>{c(!1),d()},variant:"contained",children:"Unban"})]})})]})}function U(){let e=(0,r.useRouter)(),[t,n]=(0,o.useState)([]),[c,p]=(0,o.useState)([]),[u,h]=(0,o.useState)(!0),m=e=>{fetch("https://intense-brook-83972.herokuapp.com/get-user",{method:"post",headers:{Authorization:(0,A.getCookie)("token"),Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({username:(0,A.getCookie)("username"),appleID:e})}).then(e=>e.json()).then(e=>n(e)).catch(e=>console.log(e))},x=e=>{fetch("https://intense-brook-83972.herokuapp.com/admin-get-messages",{method:"post",headers:{Authorization:(0,A.getCookie)("token"),Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({username:(0,A.getCookie)("username"),appleID:e})}).then(e=>e.json()).then(e=>p(e)).catch(e=>console.log(e)),h(!1)};return(0,o.useEffect)(()=>{e.isReady&&(m(e.query.user),x(e.query.user))},[e.isReady,u]),(0,s.jsx)("div",{children:0===t.length?(0,s.jsx)("div",{}):(0,s.jsxs)("div",{children:[(0,s.jsx)(i.Z,{size:"small",onClick:()=>e.push("/dashboard"),children:"Back"}),(0,s.jsxs)(a.Z,{sx:{minWidth:275},children:[(0,s.jsxs)(l.Z,{children:[(0,s.jsx)(d.Z,{variant:"h5",children:(0,s.jsx)("u",{children:"User Information"})}),(0,s.jsxs)(d.Z,{children:["Username: ",t.username]}),(0,s.jsxs)(d.Z,{children:["AppleID: ",t.appleID]}),(0,s.jsxs)(d.Z,{children:["Email Address: ",t.email_address]}),(0,s.jsxs)(d.Z,{children:["First name: ",t.firstName]}),(0,s.jsxs)(d.Z,{children:["Last name: ",t.lastName]}),(0,s.jsxs)(d.Z,{children:["Created:"," ",S().unix(t.createdAt).format("dddd, MMMM Do, YYYY h:mm:ss A")]}),(0,s.jsxs)(d.Z,{children:["Last Login:"," ",S().unix(t.lastLogin).format("dddd, MMMM Do, YYYY h:mm:ss A")]}),(0,s.jsxs)(d.Z,{children:["Updated:"," ",S().unix(t.updatedAt).format("dddd, MMMM Do, YYYY h:mm:ss A")]}),(0,s.jsxs)(d.Z,{children:["Database ID: ",t._id]}),(0,s.jsxs)(d.Z,{children:["Paid: ",void 0===t.paid?"":t.paid.toString()]}),(0,s.jsxs)(d.Z,{children:["Banned:"," ",void 0===t.banned?"":t.banned.toString()]}),(0,s.jsxs)(d.Z,{children:["Is AI On: ",void 0===t.isAI?"":t.isAI.toString()]}),(0,s.jsxs)(d.Z,{children:["Messages: ",t.messageCount]}),(0,s.jsxs)(d.Z,{children:["Prompt: ",t.prompt]}),(0,s.jsxs)(d.Z,{children:["Response String: ",t.responseStr]})]}),(0,s.jsxs)(k,{children:[(0,s.jsx)(I,{appleID:e.query.user,changeUser:()=>h(!u),previousPrompt:t.prompt}),(0,s.jsx)(R,{appleID:e.query.user,changeUser:()=>h(!u)}),(0,s.jsx)(P,{appleID:e.query.user,currentBanStatus:t.banned,changeUser:()=>h(!u)})]})]}),(0,s.jsx)("br",{}),(0,s.jsxs)(a.Z,{sx:{minWidth:275},children:[(0,s.jsxs)(l.Z,{children:[(0,s.jsx)(d.Z,{variant:"h5",children:"Messages"}),(0,s.jsx)("br",{}),0===c.length?"":c.map((e,t)=>(0,s.jsxs)(d.Z,{children:[(0,s.jsx)("u",{children:(0,s.jsx)("b",{children:e.sentFrom})}),": ",e.message]},t))]}),(0,s.jsx)(k,{children:(0,s.jsx)(i.Z,{size:"small",children:"Delete Chat"})})]})]})})}},1163:function(e,t,n){e.exports=n(6885)}},function(e){e.O(0,[885,591,74,756,862,774,888,179],function(){return e(e.s=6016)}),_N_E=e.O()}]);